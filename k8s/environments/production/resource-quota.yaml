apiVersion: v1
kind: ResourceQuota
metadata:
  name: minecraft-platform-compute-quota
  namespace: minecraft-platform-prod
spec:
  hard:
    # CPU limits
    requests.cpu: "50"
    limits.cpu: "100"

    # Memory limits
    requests.memory: "100Gi"
    limits.memory: "200Gi"

    # Storage limits
    requests.storage: "1Ti"
    persistentvolumeclaims: "500"

    # Object count limits
    pods: "1000"
    services: "50"
    secrets: "100"
    configmaps: "100"
    replicationcontrollers: "20"
    deployments.apps: "50"
    replicasets.apps: "50"
    statefulsets.apps: "20"
    jobs.batch: "100"
    cronjobs.batch: "20"

---
apiVersion: v1
kind: ResourceQuota
metadata:
  name: minecraft-platform-object-quota
  namespace: minecraft-platform-prod
spec:
  hard:
    # Network objects
    services.loadbalancers: "5"
    services.nodeports: "10"

    # Ingress resources
    ingresses.networking.k8s.io: "20"

    # Custom resources
    minecraftservers.minecraft-platform.com: "10000"
    backupschedules.minecraft-platform.com: "1000"

---
apiVersion: v1
kind: LimitRange
metadata:
  name: minecraft-platform-limits
  namespace: minecraft-platform-prod
spec:
  limits:
  # Pod limits
  - type: Pod
    max:
      cpu: "8"
      memory: "32Gi"
    min:
      cpu: "10m"
      memory: "64Mi"

  # Container limits
  - type: Container
    default:
      cpu: "500m"
      memory: "1Gi"
    defaultRequest:
      cpu: "100m"
      memory: "256Mi"
    max:
      cpu: "4"
      memory: "16Gi"
    min:
      cpu: "10m"
      memory: "64Mi"

  # PVC limits
  - type: PersistentVolumeClaim
    max:
      storage: "500Gi"
    min:
      storage: "1Gi"

---
# Priority classes for workload scheduling
apiVersion: scheduling.k8s.io/v1
kind: PriorityClass
metadata:
  name: minecraft-platform-critical
value: 1000
globalDefault: false
description: "Critical minecraft platform components"

---
apiVersion: scheduling.k8s.io/v1
kind: PriorityClass
metadata:
  name: minecraft-platform-high
value: 800
globalDefault: false
description: "High priority minecraft platform components"

---
apiVersion: scheduling.k8s.io/v1
kind: PriorityClass
metadata:
  name: minecraft-platform-normal
value: 500
globalDefault: true
description: "Normal priority minecraft platform components"

---
apiVersion: scheduling.k8s.io/v1
kind: PriorityClass
metadata:
  name: minecraft-server-high
value: 700
globalDefault: false
description: "High priority minecraft servers (premium customers)"

---
apiVersion: scheduling.k8s.io/v1
kind: PriorityClass
metadata:
  name: minecraft-server-normal
value: 400
globalDefault: false
description: "Normal priority minecraft servers"

---
apiVersion: scheduling.k8s.io/v1
kind: PriorityClass
metadata:
  name: minecraft-server-low
value: 200
globalDefault: false
description: "Low priority minecraft servers (free tier)"